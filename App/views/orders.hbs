<!-- views/orders.hbs -->

<!-- Citations 
1) The general structure for this file is based on the CS 340 nodejs-starter-app code
2) Date: 12/09/24
3) Originality: Adapted (only structurally similar)
4) Source: (https://github.com/osu-cs340-ecampus/nodejs-starter-app) 
--> 

<link rel='stylesheet' type='text/css' media='screen' href='main.css'>

<header>
    <h2 class="header-h2">ISOS Management System</h2>
    <nav class="global">
        <a href="/"> <strong>Home</strong></a>
    </nav>
</header>

<main>
    <section>
        <nav class="global-entities">
            <a href="/customers"> <strong>Customers</strong></a>
            <a href="/orders" class="customers-link"> <strong>Orders</strong></a>
            <a href="/products"> <strong>Products</strong></a>
            <a href="/brands"> <strong>Brands</strong></a>
            <a href="/suppliers"> <strong>Suppliers</strong></a>
            <a href="/orderProducts"> <strong>OrderProducts</strong></a>
            <a href="/productInstances"> <strong>ProductInstances</strong></a>
        </nav>
    </section>
    <section id="browse">
        <h2>Orders</h2>
        <table id="orders-table">
            <thead>
                <tr>
                    <th><button class="btn" onclick="showAddForm()">Add</button></th>
                    <th></th>
                    <th>Order ID</th>
                    <th>Order Date</th>
                    <th>Shipping Date</th>
                    <th>Status</th>
                    <th>Total Amount</th>
                    <th>Customer Name</th>
                </tr>
            </thead>
            <tbody>
                {{#each data}}
                <tr data-id="{{orderID}}">
                    <td><button class="btn-edit" onclick="showUpdateForm({{orderID}})">Edit</button></td>
                    <td><button class="btn-delete" onclick="deleteOrder({{orderID}})">Delete</button></td>
                    <td>{{orderID}}</td>
                    <td class="order-date">{{orderDate}}</td>
                    <td class="shipping-date">{{shippingDate}}</td>
                    <td>{{status}}</td>
                    <td>{{totalAmount}}</td>
                    <td>{{customerName}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </section>

    <section id="add-form" style="display: none;">
        <div id="browse">
        <h2>Add Order</h2>
        <form id="addOrderForm">

            <label for="orderDate">Order Date</label>
            <input type="date" id="orderDate" name="orderDate">

            <label for="shippingDate">Shipping Date</label>
            <input type="date" id="shippingDate" name="shippingDate">

            <label for="status">Status</label>
            <select id="status" name="status">
                <option value="Pending">Pending</option>
                <option value="Shipped">Shipped</option>
                <option value="Delivered">Delivered</option>
                <option value="Cancelled">Cancelled</option>
            </select>

            <label for="totalAmount">Total Amount</label>
            <input type="number" id="totalAmount" step="0.01" name="totalAmount">

            <label for="customerID">Customer</label>
                <select id="customerID" name="customerID" required>
                    <option value="" disabled selected>Select a Customer</option>
                    {{#each customers}}
                    <option value="{{this.customerID}}">{{this.customerName}}</option>
                    {{/each}}
                </select>

            <button type="submit" class="btn table-btn">Add Order</button>
            <button type="button" class="btn-delete table-btn2" onclick="hideAddForm()">Cancel</button>
        </form>
        </div>
    </section>

    <section id="update-form" style="display: none;">
        <div id="browse">
        <h2>Update Order</h2>
        <form id="updateOrderForm">
            <input type="hidden" id="updateOrderID">

            <label for="updateOrderDate">Order Date</label>
            <input type="text" id="updateOrderDate">

            <label for="updateShippingDate">Shipping Date</label>
            <input type="text" id="updateShippingDate">

            <label for="updateStatus">Status</label>
            <select id="updateStatus">
                <option value="Pending">Pending</option>
                <option value="Shipped">Shipped</option>
                <option value="Delivered">Delivered</option>
                <option value="Cancelled">Cancelled</option>
            </select>

            <label for="updateTotalAmount">Total Amount</label>
            <input type="number" id="updateTotalAmount" step="0.01">

            <label for="updateCustomerID">Customer</label>
                <select id="updateCustomerID" name="updateCustomerID" required>
                    <option value="" disabled selected>Select a Customer</option>
                    {{#each customers}}
                    <option value="{{this.customerID}}">{{this.customerName}}</option>
                    {{/each}}
                </select>

            <button type="submit" class="btn table-btn">Update Order</button>
            <button type="button" class="btn-delete table-btn2" onclick="hideUpdateForm()">Cancel</button>
        </form>
        </div>
    </section>
</main>

<footer>
    <nav class="global4">
        <a> &copy; Group 72: Tess Ellis & Willem De Veirman</a>
    </nav>
</footer>

<script src="/js/orders.js"></script>