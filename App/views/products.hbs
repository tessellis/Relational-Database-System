<!-- Citations 
1) The general structure for this file is based on the CS 340 nodejs-starter-app code
2) Date: 12/09/24
3) Originality: Adapted (only structurally similar)
4) Source: (https://github.com/osu-cs340-ecampus/nodejs-starter-app) 
--> 

<!-- views/products.hbs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <title>Products</title>
</head>
<body>
    <header> 
        <h2 class="header-h2">ISOS Management System</h2> 
        <nav class="global">
            <a href="/"><strong>Home</strong></a>
        </nav>
    </header>

    <main>
        <section>
            <nav class="global-entities">
                <a href="/customers"> <strong>Customers</strong></a>
                <a href="/orders"> <strong>Orders</strong></a>
                <a href="/products" class="customers-link"> <strong>Products</strong></a>
                <a href="/brands"> <strong>Brands</strong></a>
                <a href="/suppliers"> <strong>Suppliers</strong></a>
                <a href="/orderProducts"> <strong>OrderProducts</strong></a>
                <a href="/productInstances"> <strong>ProductInstances</strong></a>
            </nav>
        </section>
        <section id="browse">
            <h2>Products</h2>
            <table id="products-table">
                <thead>
                    <tr>
                        <th><button class="btn" onclick="showAddForm()">Add</button></th>
                        <th></th>
                        <th>Product ID</th>
                        <th>Product Name</th>
                        <th>Description</th>
                        <th>Price</th>
                        <th>Category Name</th>
                        <th>Stock Quantity</th>
                        <th>Supplier</th>
                        <th>Brand</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each data}}
                    <tr data-id="{{productID}}">
                        <td><button class="btn-edit" onclick="showUpdateForm({{productID}})">Edit</button></td>
                        <td><button class="btn-delete" onclick="deleteProduct({{productID}})">Delete</button></td>
                        <td>{{productID}}</td>
                        <td>{{productName}}</td>
                        <td>{{description}}</td>
                        <td>{{price}}</td>
                        <td>{{categoryName}}</td>
                        <td>{{stockQuantity}}</td>
                        <td>{{supplierName}}</td>
                        <td>{{brandName}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </section>

        <section id="add-form" style="display: none;">
            <div id="browse">
            <h2>Add Product</h2>
            <form id="addOrderForm" action="/orders" method="POST">
                <label for="productName">Product Name</label>
                <input type="text" id="productName" name="productName" required>

                <label for="description">Description</label>
                <input type="text" id="description" name="description">

                <label for="price">Price</label>
                <input type="number" step="0.01" id="price" name="price" required>

                <label for="categoryName">Category Name</label>
                <input type="text" id="categoryName" name="categoryName">

                <label for="stockQuantity">Stock Quantity</label>
                <input type="number" id="stockQuantity" name="stockQuantity" required>

                <label for="supplierID">Supplier</label>
                <select id="supplierID" name="supplierID" required>
                    <option value="" disabled selected>Select a supplier</option>
                    {{#each suppliers}}
                    <option value="{{this.supplierID}}">{{this.supplierName}}</option>
                    {{/each}}
                </select>

                <label for="brandID">Brand</label>
                <select id="brandID" name="brandID" required>
                    <option value="" disabled selected>Select a brand</option>
                    {{#each brands}}
                    <option value="{{this.brandID}}">{{this.brandName}}</option>
                    {{/each}}
                </select>

                <button type="submit" class="btn table-btn">Add Product</button>
                <button type="button" class="btn-delete table-btn2" onclick="hideAddForm()">Cancel</button>
            </form>
            </div>
        </section>

        <section id="update-form" style="display: none;">
            <div id="browse">
            <h2>Update Product</h2>
            <form id="updateProductForm">

                <input type="hidden" id="updateProductID">

                <label for="updateProductName">Product Name</label>
                <input type="text" id="updateProductName">

                <label for="updateDescription">Description</label>
                <input type="text" id="updateDescription">

                <label for="updatePrice">Price</label>
                <input type="number" step="0.01" id="updatePrice">

                <label for="updateCategoryName">Category Name</label>
                <input type="text" id="updateCategoryName">

                <label for="updateStockQuantity">Stock Quantity</label>
                <input type="number" id="updateStockQuantity">

                <label for="updateSupplierID">Supplier</label>
                <select id="updateSupplierID" name="updateSupplierID" required>
                    <option value="" disabled selected>Select a supplier</option>
                    {{#each suppliers}}
                    <option value="{{this.supplierID}}">{{this.supplierName}}</option>
                    {{/each}}
                </select>

                <label for="updateBrandID">Brand</label>
                <select id="updateBrandID" name="updateBrandID" required>
                    <option value="" disabled selected>Select a brand</option>
                    {{#each brands}}
                    <option value="{{this.brandID}}">{{this.brandName}}</option>
                    {{/each}}
                </select>



                <button type="submit" class="btn table-btn">Update Product</button>
                <button type="button" class="btn-delete table-btn2" onclick="hideUpdateForm()">Cancel</button>
            </form>
            </div>
        </section>
    </main>

    <footer>
        <nav class="global4">
            <a>&copy; Group 72: Tess Ellis & Willem De Veirman</a>
        </nav>
    </footer>
    <script src="/js/products.js"></script>
</body>
</html>